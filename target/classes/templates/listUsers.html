<html xmlns:th="http://thymeleaf.org"
	  xmlns:layout="http://ultraq.net.nz/thymeleaf/layout">
	  <head>
	  <title>CPVFE/DMT</title>
    <link type="text/css" href="/materialize\css\icon.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="/materialize/css/materialize.min.css" media="screen,projection" />
 	 <script src="/jquery-ui-1.12.1/external/jquery/jquery.js"></script>
 	 <script src="/jquery-ui-1.12.1/jquery-ui.js"></script>
 	 <link type="text/css" rel="stylesheet" href="/jquery-ui-1.12.1/jquery-ui.min.css"/>
 	<link type="text/css" rel="stylesheet" href="/jquery-ui-1.12.1/jquery-ui.theme.css"/>
  	<script src="/materialize/js/materialize.min.js"></script>
	   <script>
	var _0x3840=['open','preventDefault','.del','auto','close','dialog','href','location','#dialog-confirm','click','color','black','css','prop','target'];(function(_0x1494c9,_0x40fcdd){var _0x27832d=function(_0x5cccb4){while(--_0x5cccb4){_0x1494c9['push'](_0x1494c9['shift']());}};_0x27832d(++_0x40fcdd);}(_0x3840,0xb7));var _0x302b=function(_0x1856a9,_0x21a99e){_0x1856a9=_0x1856a9-0x0;var _0x2a4bbd=_0x3840[_0x1856a9];return _0x2a4bbd;};var _0x6557=[_0x302b('0x0'),_0x302b('0x1'),_0x302b('0x2'),_0x302b('0x3'),_0x302b('0x4'),_0x302b('0x5'),_0x302b('0x6'),_0x302b('0x7'),_0x302b('0x8'),_0x302b('0x9'),_0x302b('0xa'),_0x302b('0xb'),_0x302b('0xc'),_0x302b('0xd'),'on',_0x302b('0xe')];$(function(){var _0xbbb39b;$(_0x6557[0x5])[_0x6557[0x2]]({'autoOpen':![],'resizable':![],'height':_0x6557[0x0],'width':0x190,'modal':!![],'buttons':{'Remover utilizador':function(){$(this)[_0x6557[0x2]](_0x6557[0x1]);window[_0x6557[0x4]][_0x6557[0x3]]=_0xbbb39b;},'Cancelar':function(){$(this)[_0x6557[0x2]](_0x6557[0x1]);}}});$(_0x6557[0xf])[_0x6557[0xe]](_0x6557[0x6],function(_0xd62c5c){$(_0x6557[0x5])[_0x6557[0x9]](_0x6557[0x7],_0x6557[0x8]);_0xbbb39b=$(event[_0x6557[0xb]])[_0x6557[0xa]](_0x6557[0x3]);$(_0x6557[0x5])[_0x6557[0x2]](_0x6557[0xc]);_0xd62c5c[_0x6557[0xd]]();});});	
      </script>
	  
	  <style>
			a {
 			 color: #963a3a;
			}
		</style>
		
	  </head>
	  

<body>
<header>
<nav>
    <div class="nav-wrapper" style="background-color:#404950;border-bottom:solid white 1px">
     <a href="#"style="margin-left:2%;font-size:30px">CPVFE/DMT - Lista de Utilizadores</a>
      <ul id="nav-mobile" class="right">
        <li> <span>Utilizador: <span th:text="${#authentication.getPrincipal().getUsername()}"></span> &nbsp &nbsp</li>
       
         <li> <span>Area: <span th:text="${#authentication.getAuthorities().get(0).roleFunction.replace('ROLE_','')}"></span></span></li>
        <li><a class='dropdown-button' href='#' data-activates='dropdown1' ><i class="material-icons">arrow_drop_down</i></a></li>
      </ul>
       <ul id='dropdown1' class='dropdown-content'>
    		<li><a href="/User/updatePassword" style="color:#963a3a">Alterar Password</a></li>
   			<li><a href="/logoutAcc" style="color:#963a3a">Terminar Sessão</a></li>	
		  </ul>
      </div>
  </nav>
   <nav>
    <div class="nav-wrapper" style="background-color:#404950">
      <ul id="nav-mobile" style="margin-left:1%">
        <li><a  href="/" class="waves-effect waves-light btn-small"  style="background-color:#963a3a"><i class="material-icons right">home</i>Inicio</a></li>
     	 <li><a  href="/PontoDeVenda" class="waves-effect waves-light btn-small" style="background-color:#963a3a"><i class="material-icons right">add_circle</i>Ponto de Venda</a></li>
     	<li><a  href="/Alfaiataria" class="waves-effect waves-light btn-small" style="background-color:#963a3a"><i class="material-icons right">add_circle</i>Alfaiataria</a></li>
     	<li><a  href="/Administrador" class="waves-effect waves-light btn-small"style="background-color:#963a3a"><i class="material-icons right">verified_user</i>Administração</a></li>
      </ul>
      </div>
  </nav>
 </header>
 <div class="container center-align">
 <th:block th:include="validationMsgError"></th:block>
 <th:block th:include="validationMsgValid"></th:block>
  </div>
  <div id="dialog-confirm" style="color:white"title="Remover Utilizador?">
  			<p>Tem a certeza que pretende remover este utilizador? Esta ação é irreversível.</p>
	</div>
 <table  class="centered highlight">
		<thead>
			<tr>
				<th><a href="/Administrador/ListarUtilizadores?order=nome">Nome</a>	</th>
				<th><a href="/Administrador/ListarUtilizadores?order=nim">Nim</a></th>
				<th><a href="/Administrador/ListarUtilizadores?order=permissao">Permissão</a></th>
				<th style="color: #963a3a" >Remover</th>
			</tr>
		</thead>
		<tbody>
				<tr th:each="userworker : ${usersOrdered}">
						 <td><span th:text="${userworker.name}"></span></td>
						<td><span th:text="${userworker.nim}"></span></td>
					    <td><span th:text="${userworker.getRole()}"></span></td>
			  			<td ><a class="del  material-icons"  style="color:#963a3a;font-size:40px" th:href="${(#mvc.url('AC#delUser').arg(0,userworker.nim)).build()}">delete</a></td>
			   </tr>	
		</tbody>
	
	</table>
 </body>
 
 </html>